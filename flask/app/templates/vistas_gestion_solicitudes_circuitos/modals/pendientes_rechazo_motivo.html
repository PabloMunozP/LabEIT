<div class="modal fade" id="modal_rechazo_pendiente_detalle" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-modal="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header bg-gris-eit">
          <h5 class="modal-title text-white"><i class="fas fa-question-circle mr-2"></i>Confirmación de rechazo de solicitud</h5>
          <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close" style="outline:none;">
            <span aria-hidden="true">×</span>
          </button>
        </div>
          <div class="modal-body">
            <p>La solicitud de préstamo será marcada automáticamente como <strong>rechazada</strong> y el usuario solicitante será notificado.</p>
  
            <div class="form-group">
              <label class="">Motivo del rechazo:</label>
              <textarea required id="input_rechazar_solictud_motivo" class="form-control" name="razon_rechazo" rows="3" maxlength="300" style="min-height:100px;max-height:300px;"></textarea>
            </div>
  
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary waves-effect waves-light" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-danger waves-effect waves-light" onclick="rechazar_solicitud_pendiente_detalle()">Rechazar</button>
          </div>
      </div>
    </div>
  </div>
<script>
    function modal_rechazo_pendiente_detalle(){
        $("#modal_rechazo_pendiente_detalle").modal("show");
    }
    function rechazar_solicitud_pendiente_detalle(){
        $.ajax({
            data : {
                id_solicitud_detalle: $('#pendiente_id_solicitud_detalle').val(),
                motivo: $('#input_rechazar_solictud_motivo').val()
            },
            type : 'POST',
            url : '/gestion_solicitudes_prestamos_circuitos/rechazar_solicitud_detalle'
          }).done(function(data){
                if(data.error){
                  window.location.replace("/gestion_solicitudes_prestamos_circuitos");
                }
                else{
                    window.location.replace("/gestion_solicitudes_prestamos_circuitos");
                }
            });
    }
    
</script>