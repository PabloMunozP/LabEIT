var RegionesYcomunas = {

	"regiones": [{
				"NombreRegion": "Región Metropolitana de Santiago",
				"comunas": ["Alhué", "Buin","Calera de Tango","Cerrillos","Cerro Navia","Colina","Conchalí","Curacaví","El Bosque","El Monte","Estación Central","Huechuraba","Independencia","Isla de Maipo","La Cisterna","La Florida","La Granja","Lampa","La Pintana","La Reina","Las Condes","Lo Barnechea","Lo Espejo","Lo Prado","Macul","Maipú","María Pinto","Melipilla", "Ñuñoa", "Padre Hurtado","Paine","Pedro Aguirre Cerda","Peñaflor","Peñalolén","Pirque","Providencia","Pudahuel","Puente Alto","Quilicura","Quinta Normal","Recoleta","Renca","San Bernardo","San Joaquín","San José de Maipo","San Miguel","San Pedro","San Ramón","Santiago","Talagante","TilVl","Vitacura"]
		},
		{
				"NombreRegion": "Arica y Parinacota",
				"comunas": ["Arica", "Camarones", "General Lagos", "Putre"]
		},
		{
				"NombreRegion": "Tarapacá",
				"comunas": ["Alto Hospicio", "Camiña", "Colchane", "Huara", "Iquique", "Pica", "Pozo Almonte"]
		},
		{
			"NombreRegion": "Antofagasta",
			"comunas": ["Antofagasta", "Calama", "María Elena", "Mejillones", "Ollagüe","San Pedro de Atacama", "Sierra Gorda", "Taltal", "Tocopilla"]
	},
		{
			"NombreRegion": "Atacama",
			"comunas": ["Alto del Carmen","Caldera", "Chañaral", "Copiapó", "Diego de Almagro", "Freirina", "Huasco", "Tierra Amarilla", "Vallenar"]
	},
		{
			"NombreRegion": "Coquimbo",
			"comunas": ["Andacollo", "Canela", "Combarbalá", "Coquimbo","La Higuera", "La Serena", "Paiguano", "Illapel", "Los Vilos",  "Ovalle",  "Monte Patria", "Punitaqui", "Río Hurtado", "Salamanca", "Vicuña"]
	},
		{
			"NombreRegion": "Valparaíso",
			"comunas": ["Algarrobo","Cabildo","Calera","Calle Larga","Cartagena","Casablanca","Catemu","Concón","El Quisco","El Tabo","Hijuelas","Isla de Pascua","Juan Fernández","La Cruz","La Ligua","Limache","Llaillay","Los Andes","Nogales","Olmué","Panquehue","Papudo","Petorca","Puchuncaví","Putaendo","Quillota","Quilpué","Quintero","Rinconada","San Antonio","San Esteban","San Felipe","Santa María","Santo Domingo","Valparaíso","Villa Alemana","Viña del Mar","Zapallar"]
	},
		{
			"NombreRegion": "Región del Libertador Gral. Bernardo O’Higgins",
			"comunas": ["Chimbarongo","Chépica","Codegua","Coinco","Coltauco","Doñihue","Graneros","La Estrella","Las Cabras","Litueche","Lolol","Machalí","Malloa","Marchihue","Mostazal","Nancagua","Navidad","Olivar","Palmilla","Paredones","Peralillo","Peumo","Pichidegua","Pichilemu","Placilla","Pumanque","Quinta de Tilcoco","Rancagua","Rengo","Requínoa","San Fernando","Santa Cruz","San Vicente"]
	},
		{
			"NombreRegion": "Región del Maule",
			"comunas": ["Cauquenes","Chanco","Colbún","ConsVtución","Curepto","Curicó","Empedrado","Hualañé","Licantén","Linares","Longaví","Maule","Molina","Parral","Pelarco","Pelluhue","Pencahue","Rauco","ReVro","Romeral","Río Claro","Sagrada Familia","San Clemente","San Javier","San Rafael","Talca","Teno","Vichuquén","Villa Alegre","Yerbas Buenas"]
	},
		{
			"NombreRegion": "Región del Biobío",
			"comunas": ["Alto Biobío","Antuco","Arauco","Bulnes","Cabrero","Cañete","Chiguayante","Chillán","Chillán Viejo","Cobquecura","Coelemu","Coihueco","Concepción","Contulmo","Coronel","Curanilahue","El Carmen","Florida","Hualpén","Hualqui","Laja","Lebu","Los Álamos","Los Ángeles","Lota","Mulchén","Nacimiento","Negrete","Ninhue","Ñiquén","Pemuco","Penco","Pinto","Portezuelo","Quilaco","Quilleco","Quillón","Quirihue","Ránquil","San Carlos","San Fabián","San Ignacio","San Nicolás","San Pedro de la Paz","San Rosendo","Santa Bárbara","Santa Juana","Talcahuano","Tirúa","Tomé","Treguaco","Tucapel","Yumbel","Yungay"]
	},
		{
			"NombreRegion": "Región de la Araucanía",
			"comunas": ["Angol","Carahue","Cholchol","Collipulli","Cunco","Curacautín","Curarrehue","Ercilla","Freire","Galvarino","Gorbea","Lautaro","Loncoche","Lonquimay","Los Sauces","Lumaco","Melipeuco","Nueva Imperial","Padre las Casas","Perquenco","Pitrufquén","Pucón","Purén","Renaico","Saavedra","Temuco","Teodoro Schmidt","Toltén","Traiguén","Victoria","Vilcún","Villarrica"]
	},
		{
			"NombreRegion": "Región de Los Ríos",
			"comunas": ["Corral","Futrono","Lago Ranco","Lanco","La Unión","Los Lagos","Mariquina","Máfil","Paillaco","Panguipulli","Río Bueno","Valdivia"]
	},
		{
			"NombreRegion": "Región de Los Lagos",
			"comunas": ["Ancud","Calbuco","Castro","Chaitén","Chonchi","Cochamó","Curaco de Vélez","Dalcahue","Fresia","FruVllar","Futaleufú","Hualaihué","Llanquihue","Los Muermos","Maullín","Osorno","Palena","Puerto Montt","Puerto Octay","Puerto Varas","Puqueldón","Purranque","Puyehue","Queilén","Quellón","Quemchi","Quinchao","Río Negro","San Juan de la Costa","San Pablo"]
	},
		{
			"NombreRegion": "Región Aisén del Gral. Carlos Ibáñez del Campo",
			"comunas": ["Aisén","Chile Chico","Cisnes","Cochrane","Coihaique","Guaitecas","Lago Verde","O’Higgins","Río Ibáñez","Tortel"]
	},
		{
			"NombreRegion": "Región de Magallanes y de la Antártica Chilena",
			"comunas": ["Antártica","Cabo de Hornos (Ex Navarino)","Laguna Blanca","Natales","Porvenir","Primavera","Punta Arenas","Río Verde","San Gregorio","Timaukel","Torres del Paine"]
	}]
}
jQuery(document).ready(function () {

	var iRegion = 0;
	var htmlRegion = '<option value="sin-region">Seleccione región</option><option value="sin-region">--</option>';
	var htmlComunas = '<option value="sin-region">Seleccione comuna</option><option value="sin-region">--</option>';

	jQuery.each(RegionesYcomunas.regiones, function () {
		htmlRegion = htmlRegion + '<option id="'+RegionesYcomunas.regiones[iRegion].NombreRegion+'" value="' + RegionesYcomunas.regiones[iRegion].NombreRegion + '">' + RegionesYcomunas.regiones[iRegion].NombreRegion + '</option>';
		iRegion++;
	});
	jQuery('#regiones').html(htmlRegion);
	jQuery('#comunas').html(htmlComunas);
	jQuery('#regiones').change(function () {
		var iRegiones = 0;
		var valorRegion = jQuery(this).val();
		var htmlComuna = '<option value="sin-comuna">Seleccione comuna</option><option value="sin-comuna">--</option>';
		jQuery.each(RegionesYcomunas.regiones, function () {
			if (RegionesYcomunas.regiones[iRegiones].NombreRegion == valorRegion) {
				var iComunas = 0;
				jQuery.each(RegionesYcomunas.regiones[iRegiones].comunas, function () {
					htmlComuna = htmlComuna + '<option id="' +RegionesYcomunas.regiones[iRegiones].comunas[iComunas] + '" value="' + RegionesYcomunas.regiones[iRegiones].comunas[iComunas] + '">' + RegionesYcomunas.regiones[iRegiones].comunas[iComunas] + '</option>';
					iComunas++;
				});
			}
			iRegiones++;
		});
		jQuery('#comunas').html(htmlComuna);
	});
	jQuery('#comunas').change(function () {
		if (jQuery(this).val() == 'sin-region') {
			alert('Seleccionar Región');
		} else if (jQuery(this).val() == 'sin-comuna') {
			alert('Seleccionar Comuna');
		}
	});
	jQuery('#regiones').change(function () {
		if (jQuery(this).val() == 'sin-region') {
			alert('Seleccionar Región');
		}
	});

});
